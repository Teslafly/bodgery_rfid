<html>
<head>
<title>Test RFID Tag</title>
<script type="text/javascript" src="/jquery-2.1.3.min.js"></script>
<script type="text/javascript">

$( document ).ready( function () {
    $( "#rfid_form" ).submit( function (event ) {
        event.preventDefault();

        var tag  = $('#rfid').val();
        var msg_div = $('#msg');
        var url  = "/check_tag/" + tag;
    
        $.ajax( url, {
            "type": "GET",
            "error": function (jqXHR, str, exception) {
                var code = jqXHR.statusCode();
                var status = (code == 403) ? "Inactive" :
                    (code == 404) ? "Not found" :
                    "Unknown Error " + code;
                msg_div.text( "Tag " + tag + " NOT OK: " + str );
            },
            "success": function (data, str, jqXHR) {
                msg_div.text( "Tag " + tag + " OK" );
            }
        });
    
        $('#rfid').val("");
        return 1;
    });
});

</script>
</head>
<body>

<h1>Test RFID Tag</h1>

<div id="msg"></div>

<form id="rfid_form" action="/check_tag" method="GET" onSubmit="submit_rfid()">
<p>RFID Tag #: <input type="text" id="rfid" name="rfid" autofocus="autofocus"></p>
<p><input type="submit" value="Test Tag"></p>
</form>

</body>
</html>
